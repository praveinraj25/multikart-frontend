import{Dc as i,Ec as b,Gc as p,I as c,L as l,O as n,Oc as d,_b as y,a as v,b as M,d as r}from"./chunk-FQQSMIRW.js";var m=class{constructor(t){this.payload=t}static{this.type="[Page] Get"}},g=class{constructor(t){this.slug=t}static{this.type="[Page] By Slug"}},f=class{static{this.type="[Faq] Get"}},u=class{constructor(t){this.payload=t}static{this.type="[ContactUs] Post"}};var h=class s{constructor(t){this.http=t;this.skeletonLoader=!1}getPages(t){return this.http.get(`${d.URL}/page.json`,{params:t})}getFaqs(){return this.http.get(`${d.URL}/faq.json`)}getStores(t){return this.http.get(`${d.URL}/store`,{params:t})}static{this.\u0275fac=function(o){return new(o||s)(n(y))}}static{this.\u0275prov=l({token:s,factory:s.\u0275fac,providedIn:"root"})}};var e=class{constructor(t){this.pageService=t}static page(t){return t.page}static faq(t){return t.faq}static selectedPage(t){return t.selectedPage}getPages(t,o){return this.pageService.getPages(o.payload).pipe(c({next:a=>{t.patchState({page:{data:a.data,total:a?.total?a?.total:a.data?.length}})},error:a=>{throw new Error(a?.error?.message)}}))}getPageBySlug(t,{slug:o}){return this.pageService.skeletonLoader=!0,this.pageService.getPages().pipe(c({next:a=>{if(a&&a.data){let q=t.getState(),x=a.data.find(C=>C.slug==o);t.patchState(M(v({},q),{selectedPage:x}))}},complete:()=>{this.pageService.skeletonLoader=!1},error:a=>{throw new Error(a?.error?.message)}}))}getFaqs(t){return this.pageService.skeletonLoader=!0,this.pageService.getFaqs().pipe(c({next:o=>{t.patchState({faq:{data:o.data,total:o?.total?o?.total:o.data?.length}})},complete:()=>{this.pageService.skeletonLoader=!1},error:o=>{throw new Error(o?.error?.message)}}))}contactUs(t,{payload:o}){}};e.\u0275fac=function(o){return new(o||e)(n(h))},e.\u0275prov=l({token:e,factory:e.\u0275fac}),r([i(m)],e.prototype,"getPages",1),r([i(g)],e.prototype,"getPageBySlug",1),r([i(f)],e.prototype,"getFaqs",1),r([i(u)],e.prototype,"contactUs",1),r([p()],e,"page",1),r([p()],e,"faq",1),r([p()],e,"selectedPage",1),e=r([b({name:"page",defaults:{page:{data:[],total:0},faq:{data:[],total:0},selectedPage:null}})],e);export{g as a,f as b,u as c,h as d,e};
