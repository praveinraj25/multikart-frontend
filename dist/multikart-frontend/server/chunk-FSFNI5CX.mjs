import './polyfills.server.mjs';
import{c as $t,d as mt,f as X,g as Y,h as ht}from"./chunk-J4BDXTMW.mjs";import{A as Ut,B as Gt,Ha as Jt,h as Zt,k as zt,ka as qt,t as $,u as Lt,v as Z,w as tt}from"./chunk-J2RKOBA6.mjs";import{$c as pt,Bb as c,Ca as G,Cb as p,Db as w,Eb as ct,Fb as ut,Ga as B,Hb as P,Id as Vt,Jb as jt,Lb as O,Mb as r,Nb as Nt,Ob as Rt,Pb as kt,Rc as dt,Sa as Dt,Ta as lt,Ua as At,Xb as h,Yb as A,Za as a,Zb as S,Zc as Bt,_a as y,bb as Mt,ea as b,f as g,fa as yt,fd as Et,ha as xt,hc as V,ja as v,jc as q,ka as D,kd as Ft,lb as _,md as Pt,oa as N,oc as J,pa as It,pb as E,pc as K,qb as l,ra as wt,rb as F,sa as Ot,sb as Ht,ub as d,ud as W,wb as I,xa as St,ya as R,za as k,zc as Q}from"./chunk-V7773RDJ.mjs";import{a as m,b as T,h as f}from"./chunk-ORSYB2Y5.mjs";var et=class{constructor(n=!0){this.loading=n}static{this.type="[Loader] Show loader action"}},it=class{static{this.type="[Loader] Hide loader action"}},nt=class{constructor(n=!0,t){this.loading=n;this.id=t}static{this.type="[Loader] Show Button Spinner action"}},st=class{static{this.type="[Loader] Hide Button Spinner action"}};var u=class{static status(n){return n.status}static loadingCount(n){return n?.loadingCount}static buttonSpinner(n){return n.button_spinner}showLoaderAction(n,t){let e=n.getState(),s=e?.loadingCount?e?.loadingCount:0;n.patchState({status:t?.loading,loadingCount:s+1})}hideLoaderAction(n){let t=n.getState();n.patchState({status:t?.loadingCount!==1,loadingCount:t?.loadingCount-1})}showButtonSpinnerAction(n,t){let e=n.getState();n.patchState(T(m({},e),{button_spinner:t?.loading}))}HideButtonSpinnerAction(n){let t=n.getState();n.patchState(T(m({},t),{button_spinner:!1}))}};u.\u0275fac=function(t){return new(t||u)},u.\u0275prov=b({token:u,factory:u.\u0275fac}),f([$(et)],u.prototype,"showLoaderAction",1),f([$(it)],u.prototype,"hideLoaderAction",1),f([$(nt)],u.prototype,"showButtonSpinnerAction",1),f([$(st)],u.prototype,"HideButtonSpinnerAction",1),f([tt()],u,"status",1),f([tt()],u,"loadingCount",1),f([tt()],u,"buttonSpinner",1),u=f([Lt({name:"loader",defaults:{status:!1,loadingCount:0,button_spinner:!1,button_id:null}})],u);var ae=["*"],re=i=>["/category",i],le=i=>["/product/",i],ce=i=>({"position-relative spinning":i});function ue(i,n){if(i&1&&(c(0,"a",3),h(1),p()),i&2){let t=r(3);d(t.class),kt("href",t.data==null||t.data.redirect_link==null?null:t.data.redirect_link.link,At),a(),A(t.data.button_text)}}function de(i,n){if(i&1&&(c(0,"a",4),h(1),p()),i&2){let t=r(3);d(t.class),a(),A(t.data.button_text)}}function pe(i,n){if(i&1&&_(0,ue,2,4,"a",1)(1,de,2,3,"a",2),i&2){let t=r(2);I(!(t.data==null||t.data.redirect_link==null)&&t.data.redirect_link.link?0:1)}}function me(i,n){if(i&1&&(c(0,"a",6),h(1),p()),i&2){let t=r(3);d(t.class),l("routerLink",q(4,re,t.data==null||t.data.redirect_link==null?null:t.data.redirect_link.link)),a(),A(t.data.button_text)}}function he(i,n){if(i&1&&(c(0,"a",4),h(1),p()),i&2){let t=r(3);d(t.class),a(),A(t.data.button_text)}}function fe(i,n){if(i&1&&_(0,me,2,6,"a",5)(1,he,2,3,"a",2),i&2){let t=r(2);I(!(t.data==null||t.data.redirect_link==null)&&t.data.redirect_link.link?0:1)}}function ve(i,n){if(i&1&&(c(0,"a",6),h(1),p()),i&2){let t=r(3);d(t.class),l("routerLink",q(4,le,t.data==null?null:t.data.product_slug)),a(),A(t.data.button_text)}}function _e(i,n){if(i&1&&_(0,ve,2,6,"a",5),i&2){let t=r(2);I(t.data!=null&&t.data.product_slug?0:-1)}}function ge(i,n){if(i&1&&_(0,pe,2,1)(1,fe,2,1)(2,_e,1,1),i&2){let t=r();I((t.data==null||t.data.redirect_link==null?null:t.data.redirect_link.link_type)==="external_url"?0:(t.data==null||t.data.redirect_link==null?null:t.data.redirect_link.link_type)==="collection"?1:(t.data==null||t.data.redirect_link==null?null:t.data.redirect_link.link_type)==="product"?2:-1)}}function be(i,n){if(i&1&&w(0,"i"),i&2){let t=r(2);d(t.iconClass)}}function Ce(i,n){if(i&1){let t=P();c(0,"button",7),J(1,"async"),J(2,"async"),O("click",function(){R(t);let s=r();return k(s.onClick(s.id))}),c(3,"div",8),J(4,"async"),_(5,be,1,3,"i",9),Rt(6),p()()}if(i&2){let t=r();d(t.class?t.class:""),Ht("disabled",t.disabled||K(1,9,t.spinnerStatus$)&&t.buttonId==t.id),l("id",t.id)("type",t.type)("disabled",t.disabled||K(2,11,t.spinnerStatus$)&&t.buttonId==t.id),a(3),l("ngClass",q(15,ce,t.spinner&&K(4,13,t.spinnerStatus$)&&t.buttonId&&t.buttonId==t.id)),a(2),I(t.iconClass?5:-1)}}var M=class M{constructor(){this.type="submit";this.spinner=!0;this.disabled=!1;this.spinnerStatus$.subscribe(n=>{n==!1&&(this.buttonId=null)})}onClick(n){this.buttonId=n}ngOnChanges(n){n.data?.currentValue&&typeof n.data?.currentValue?.redirect_link?.link=="number"&&this.product$.subscribe(t=>{t.map(e=>{e.id===n.data?.currentValue?.redirect_link?.link&&(this.data.product_slug=e.slug)})})}getProductSlug(n,t){let e=t.find(s=>{s.id});return e?e.slug:null}static{this.\u0275fac=function(t){return new(t||M)}}static{this.\u0275cmp=N({type:M,selectors:[["app-button"]],inputs:{class:"class",iconClass:"iconClass",id:"id",label:"label",type:"type",spinner:"spinner",disabled:"disabled",data:"data"},standalone:!0,features:[St,V],ngContentSelectors:ae,decls:2,vars:1,consts:[[3,"class","id","type","disabled"],[3,"href","class"],["href","javascript:void(0)",3,"class"],[3,"href"],["href","javascript:void(0)"],[3,"routerLink","class"],[3,"routerLink"],[3,"click","id","type","disabled"],[3,"ngClass"],[3,"class"]],template:function(t,e){t&1&&(Nt(),_(0,ge,3,1)(1,Ce,7,17,"button",0)),t&2&&I(e.type=="button_link"?0:1)},dependencies:[Pt,Bt,Et,zt,Zt]})}};f([Z(u.buttonSpinner)],M.prototype,"spinnerStatus$",2),f([Z(Jt.productByIds)],M.prototype,"product$",2);var Kt=M;var L=class L{constructor(n){this.currencyPipe=n;this.symbol="$";this.selectedCurrency$.subscribe(t=>this.selectedCurrency=t)}transform(n,t="before_price"){n||(n=0),n=Number(n),n=n*this.selectedCurrency?.exchange_rate,this.symbol=this.selectedCurrency?.symbol,t=this.selectedCurrency?.symbol_position;let e=this.currencyPipe.transform(n,this.symbol);return e=e?.replace(this.symbol,""),t==="before_price"?`${this.symbol}${e}`:`${e}${this.symbol}`}static{this.\u0275fac=function(t){return new(t||L)(y(Ft,16))}}static{this.\u0275pipe=wt({name:"currencySymbol",type:L,pure:!0,standalone:!0})}};f([Z(Gt.selectedCurrency)],L.prototype,"selectedCurrency$",2);var Qt=L;var Wt=class i{constructor(n){this.http=n;this.confirmed=!1;this.isLogin=!1}static{this.\u0275fac=function(t){return new(t||i)(v(W))}}static{this.\u0275prov=b({token:i,factory:i.\u0275fac,providedIn:"root"})}};var Xt=["toast-component",""];function ye(i,n){if(i&1){let t=P();c(0,"button",5),O("click",function(){R(t);let s=r();return k(s.remove())}),c(1,"span",6),h(2,"\xD7"),p()()}}function xe(i,n){if(i&1&&(ct(0),h(1),ut()),i&2){let t=r(2);a(),S("[",t.duplicatesCount+1,"]")}}function Ie(i,n){if(i&1&&(c(0,"div"),h(1),_(2,xe,2,1,"ng-container",4),p()),i&2){let t=r();d(t.options.titleClass),E("aria-label",t.title),a(),S(" ",t.title," "),a(),l("ngIf",t.duplicatesCount)}}function we(i,n){if(i&1&&w(0,"div",7),i&2){let t=r();d(t.options.messageClass),l("innerHTML",t.message,lt)}}function Oe(i,n){if(i&1&&(c(0,"div",8),h(1),p()),i&2){let t=r();d(t.options.messageClass),E("aria-label",t.message),a(),S(" ",t.message," ")}}function Se(i,n){if(i&1&&(c(0,"div"),w(1,"div",9),p()),i&2){let t=r();a(),F("width",t.width+"%")}}function De(i,n){if(i&1){let t=P();c(0,"button",5),O("click",function(){R(t);let s=r();return k(s.remove())}),c(1,"span",6),h(2,"\xD7"),p()()}}function Ae(i,n){if(i&1&&(ct(0),h(1),ut()),i&2){let t=r(2);a(),S("[",t.duplicatesCount+1,"]")}}function Me(i,n){if(i&1&&(c(0,"div"),h(1),_(2,Ae,2,1,"ng-container",4),p()),i&2){let t=r();d(t.options.titleClass),E("aria-label",t.title),a(),S(" ",t.title," "),a(),l("ngIf",t.duplicatesCount)}}function He(i,n){if(i&1&&w(0,"div",7),i&2){let t=r();d(t.options.messageClass),l("innerHTML",t.message,lt)}}function je(i,n){if(i&1&&(c(0,"div",8),h(1),p()),i&2){let t=r();d(t.options.messageClass),E("aria-label",t.message),a(),S(" ",t.message," ")}}function Ne(i,n){if(i&1&&(c(0,"div"),w(1,"div",9),p()),i&2){let t=r();a(),F("width",t.width+"%")}}var ft=class{_attachedHost;component;viewContainerRef;injector;constructor(n,t){this.component=n,this.injector=t}attach(n,t){return this._attachedHost=n,n.attach(this,t)}detach(){let n=this._attachedHost;if(n)return this._attachedHost=void 0,n.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(n){this._attachedHost=n}},vt=class{_attachedPortal;_disposeFn;attach(n,t){return this._attachedPortal=n,this.attachComponentPortal(n,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(n){this._disposeFn=n}},_t=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new g;_activate=new g;_manualClose=new g;_resetTimeout=new g;_countDuplicate=new g;constructor(n){this._overlayRef=n}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(n,t){n&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}},H=class{toastId;config;message;title;toastType;toastRef;_onTap=new g;_onAction=new g;constructor(n,t,e,s,o,C){this.toastId=n,this.config=t,this.message=e,this.title=s,this.toastType=o,this.toastRef=C,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(n){this._onAction.next(n)}onAction(){return this._onAction.asObservable()}},Yt={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},te=new xt("ToastConfig"),gt=class extends vt{_hostDomElement;_componentFactoryResolver;_appRef;constructor(n,t,e){super(),this._hostDomElement=n,this._componentFactoryResolver=t,this._appRef=e}attachComponentPortal(n,t){let e=this._componentFactoryResolver.resolveComponentFactory(n.component),s;return s=e.create(n.injector),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.detachView(s.hostView),s.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(s),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(s)),s}_getComponentRootNode(n){return n.hostView.rootNodes[0]}},Re=(()=>{class i{_document=D(dt);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}static \u0275fac=function(e){return new(e||i)};static \u0275prov=b({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),bt=class{_portalHost;constructor(n){this._portalHost=n}attach(n,t=!0){return this._portalHost.attach(n,t)}detach(){return this._portalHost.detach()}},ke=(()=>{class i{_overlayContainer=D(Re);_componentFactoryResolver=D(Mt);_appRef=D(Q);_document=D(dt);_paneElements=new Map;create(t,e){return this._createOverlayRef(this.getPaneElement(t,e))}getPaneElement(t="",e){return this._paneElements.get(e)||this._paneElements.set(e,{}),this._paneElements.get(e)[t]||(this._paneElements.get(e)[t]=this._createPaneElement(t,e)),this._paneElements.get(e)[t]}_createPaneElement(t,e){let s=this._document.createElement("div");return s.id="toast-container",s.classList.add(t),s.classList.add("toast-container"),e?e.getContainerElement().appendChild(s):this._overlayContainer.getContainerElement().appendChild(s),s}_createPortalHost(t){return new gt(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new bt(this._createPortalHost(t))}static \u0275fac=function(e){return new(e||i)};static \u0275prov=b({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),ot=(()=>{class i{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(t,e,s,o,C){this.overlay=e,this._injector=s,this.sanitizer=o,this.ngZone=C,this.toastrConfig=m(m({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=m(m({},t.default.iconClasses),t.config.iconClasses))}show(t,e,s={},o=""){return this._preBuildNotification(o,t,e,this.applyConfig(s))}success(t,e,s={}){let o=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(o,t,e,this.applyConfig(s))}error(t,e,s={}){let o=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(o,t,e,this.applyConfig(s))}info(t,e,s={}){let o=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(o,t,e,this.applyConfig(s))}warning(t,e,s={}){let o=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(o,t,e,this.applyConfig(s))}clear(t){for(let e of this.toasts)if(t!==void 0){if(e.toastId===t){e.toastRef.manualClose();return}}else e.toastRef.manualClose()}remove(t){let e=this._findToast(t);if(!e||(e.activeToast.toastRef.close(),this.toasts.splice(e.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let s=this.toasts[this.currentlyActive].toastRef;s.isInactive()||(this.currentlyActive=this.currentlyActive+1,s.activate())}return!0}findDuplicate(t="",e="",s,o){let{includeTitleDuplicates:C}=this.toastrConfig;for(let x of this.toasts){let U=C&&x.title===t;if((!C||U)&&x.message===e)return x.toastRef.onDuplicate(s,o),x}return null}applyConfig(t={}){return m(m({},this.toastrConfig),t)}_findToast(t){for(let e=0;e<this.toasts.length;e++)if(this.toasts[e].toastId===t)return{index:e,activeToast:this.toasts[e]};return null}_preBuildNotification(t,e,s,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,e,s,o)):this._buildNotification(t,e,s,o)}_buildNotification(t,e,s,o){if(!o.toastComponent)throw new Error("toastComponent required");let C=this.findDuplicate(s,e,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&s||e)&&this.toastrConfig.preventDuplicates&&C!==null)return C;this.previousToastMessage=e;let x=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(x=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let U=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let Ct=e;e&&o.enableHtml&&(Ct=this.sanitizer.sanitize(Dt.HTML,e));let j=new _t(U),at=new H(this.index,o,Ct,s,t,j),ie=[{provide:H,useValue:at}],ne=G.create({providers:ie,parent:this._injector}),se=new ft(o.toastComponent,ne),Tt=U.attach(se,o.newestOnTop);j.componentInstance=Tt.instance;let rt={toastId:this.index,title:s||"",message:e||"",toastRef:j,onShown:j.afterActivate(),onHidden:j.afterClosed(),onTap:at.onTap(),onAction:at.onAction(),portal:Tt};return x||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{rt.toastRef.activate()})),this.toasts.push(rt),rt}static \u0275fac=function(e){return new(e||i)(v(te),v(ke),v(G),v(Vt),v(B))};static \u0275prov=b({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Be=(()=>{class i{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if(this.state.value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(t,e,s){this.toastrService=t,this.toastPackage=e,this.ngZone=s,this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses=`${e.toastType} ${e.config.toastClass}`,this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=e.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=T(m({},this.state),{value:"active"}),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width===0||this.width===100||!this.options.timeOut)return;let t=new Date().getTime(),e=this.hideTime-t;this.width=e/this.options.timeOut*100,this.options.progressAnimation==="increasing"&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=T(m({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state.value!=="removed"&&(clearTimeout(this.timeout),this.state=T(m({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state.value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state.value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state.value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),e)):this.timeout=setTimeout(()=>t(),e)}outsideInterval(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),e)):this.intervalId=setInterval(()=>t(),e)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}static \u0275fac=function(e){return new(e||i)(y(ot),y(H),y(B))};static \u0275cmp=N({type:i,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(e,s){e&1&&O("click",function(){return s.tapToast()})("mouseenter",function(){return s.stickAround()})("mouseleave",function(){return s.delayedHideToast()}),e&2&&(jt("@flyInOut",s.state),d(s.toastClasses),F("display",s.displayStyle))},standalone:!0,features:[V],attrs:Xt,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(e,s){e&1&&_(0,ye,3,0,"button",0)(1,Ie,3,5,"div",1)(2,we,1,3,"div",2)(3,Oe,2,4,"div",3)(4,Se,2,2,"div",4),e&2&&(l("ngIf",s.options.closeButton),a(),l("ngIf",s.title),a(),l("ngIf",s.message&&s.options.enableHtml),a(),l("ngIf",s.message&&!s.options.enableHtml),a(),l("ngIf",s.options.progressBar))},dependencies:[pt],encapsulation:2,data:{animation:[$t("flyInOut",[Y("inactive",X({opacity:0})),Y("active",X({opacity:1})),Y("removed",X({opacity:0})),ht("inactive => active",mt("{{ easeTime }}ms {{ easing }}")),ht("active => removed",mt("{{ easeTime }}ms {{ easing }}"))])]}})}return i})(),Ee=T(m({},Yt),{toastComponent:Be}),Fe=(i={})=>Ot([{provide:te,useValue:{default:Ee,config:i}}]),Ti=(()=>{class i{static forRoot(t={}){return{ngModule:i,providers:[Fe(t)]}}static \u0275fac=function(e){return new(e||i)};static \u0275mod=It({type:i});static \u0275inj=yt({})}return i})();var Pe=(()=>{class i{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";get displayStyle(){return this.state==="inactive"?"none":null}state="inactive";timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(t,e,s){this.toastrService=t,this.toastPackage=e,this.appRef=s,this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses=`${e.toastType} ${e.config.toastClass}`,this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=e.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width===0||this.width===100||!this.options.timeOut)return;let t=new Date().getTime(),e=this.hideTime-t;this.width=e/this.options.timeOut*100,this.options.progressAnimation==="increasing"&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state!=="removed"&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(e){return new(e||i)(y(ot),y(H),y(Q))};static \u0275cmp=N({type:i,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(e,s){e&1&&O("click",function(){return s.tapToast()})("mouseenter",function(){return s.stickAround()})("mouseleave",function(){return s.delayedHideToast()}),e&2&&(d(s.toastClasses),F("display",s.displayStyle))},standalone:!0,features:[V],attrs:Xt,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(e,s){e&1&&_(0,De,3,0,"button",0)(1,Me,3,5,"div",1)(2,He,1,3,"div",2)(3,je,2,4,"div",3)(4,Ne,2,2,"div",4),e&2&&(l("ngIf",s.options.closeButton),a(),l("ngIf",s.title),a(),l("ngIf",s.message&&s.options.enableHtml),a(),l("ngIf",s.message&&!s.options.enableHtml),a(),l("ngIf",s.options.progressBar))},dependencies:[pt],encapsulation:2})}return i})(),yi=T(m({},Yt),{toastComponent:Pe});var ee=class i{constructor(n,t,e,s){this.zone=n;this.http=t;this.modalService=e;this.toastr=s;this.alertSubject=new g;this.notification=!0}showSuccess(n){this.alertSubject.next({type:"success",message:n}),this.zone.run(()=>{this.modalService.dismissAll(),this.notification&&this.toastr.success(n)})}showError(n){this.alertSubject.next({type:"error",message:n}),this.zone.run(()=>{this.notification&&n&&(console.log("\u{1F680} ~ NotificationService ~ this.zone.run ~ this.notification:",this.notification),this.toastr.error(n))})}getNotifications(n){return this.http.get(`${Ut.URL}/notifications.json`,{params:n})}static{this.\u0275fac=function(t){return new(t||i)(v(B),v(W),v(qt),v(ot))}}static{this.\u0275prov=b({token:i,factory:i.\u0275fac,providedIn:"root"})}};export{Ti as a,et as b,it as c,nt as d,st as e,u as f,Kt as g,Qt as h,ee as i,Wt as j};
