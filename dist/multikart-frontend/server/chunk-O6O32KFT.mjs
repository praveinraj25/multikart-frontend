import './polyfills.server.mjs';
import{A as y,g as U,t as n,u as C,w as s}from"./chunk-J2RKOBA6.mjs";import{_ as l,ea as g,ja as d,ud as b}from"./chunk-V7773RDJ.mjs";import{a as u,b as h,h as o}from"./chunk-ORSYB2Y5.mjs";var x=class{constructor(t){this.payload=t}static{this.type="[Blog] Get"}},S=class{constructor(t){this.slug=t}static{this.type="[Blog] By Slug"}},M=class{constructor(t){this.payload=t}static{this.type="[Blog] By Recent"}},w=class{constructor(t){this.payload=t}static{this.type="[Blog] Selected"}};var G=class i{constructor(t){this.http=t;this.skeletonLoader=!1}getBlogs(t){return this.http.get(`${y.URL}/blog.json`,{params:t})}getBlogBySlug(t){return this.http.get(`${y.URL}/blog/slug/${t}`)}static{this.\u0275fac=function(r){return new(r||i)(d(b))}}static{this.\u0275prov=g({token:i,factory:i.\u0275fac,providedIn:"root"})}};var c=class{constructor(t,r){this.router=t;this.blogService=r}static blog(t){return t.blog}static selectedBlog(t){return t.selectedBlog}static resentBlog(t){return t.recentBlog}static selectedBlogs(t){return t.selectedBlogs}getBlogs(t,r){return this.blogService.skeletonLoader=!0,this.blogService.getBlogs(r.payload).pipe(l({next:e=>{t.patchState({blog:{data:e.data,total:e?.total?e?.total:e.data?.length}})},complete:()=>{this.blogService.skeletonLoader=!1},error:e=>{throw new Error(e?.error?.message)}}))}getBlogBySlug(t,{slug:r}){return this.blogService.getBlogs().pipe(l({next:e=>{if(e&&e.data){let m=t.getState(),f=e.data.find(B=>B.slug==r);t.patchState(h(u({},m),{selectedBlog:f}))}},error:e=>{throw this.router.navigate(["/404"]),new Error(e?.error?.message)}}))}getRecentBlogs(t,r){return this.blogService.getBlogs(r.payload).pipe(l({next:e=>{t.patchState({recentBlog:e.data})},error:e=>{throw new Error(e?.error?.message)}}))}getSelectedBlogs(t,r){return this.blogService.getBlogs(r.payload).pipe(l({next:e=>{t.patchState({selectedBlogs:e.data})},error:e=>{throw new Error(e?.error?.message)}}))}};c.\u0275fac=function(r){return new(r||c)(d(U),d(G))},c.\u0275prov=g({token:c,factory:c.\u0275fac}),o([n(x)],c.prototype,"getBlogs",1),o([n(S)],c.prototype,"getBlogBySlug",1),o([n(M)],c.prototype,"getRecentBlogs",1),o([n(w)],c.prototype,"getSelectedBlogs",1),o([s()],c,"blog",1),o([s()],c,"selectedBlog",1),o([s()],c,"resentBlog",1),o([s()],c,"selectedBlogs",1),c=o([C({name:"blog",defaults:{blog:{data:[],total:0},selectedBlog:null,recentBlog:[],selectedBlogs:[]}})],c);var j=class{constructor(t){this.payload=t}static{this.type="[Brand] Get"}},P=class{constructor(t){this.slug=t}static{this.type="[Brand] Get Brand By Slug"}};var k=class i{constructor(t){this.http=t;this.skeletonLoader=!1}getBrands(t){return this.http.get(`${y.URL}/brand.json`,{params:t})}getBrandBySlug(t){return this.http.get(`${y.URL}/brand/slug/${t}`)}static{this.\u0275fac=function(r){return new(r||i)(d(b))}}static{this.\u0275prov=g({token:i,factory:i.\u0275fac,providedIn:"root"})}};var p=class{constructor(t){this.brandService=t}static brand(t){return t.brand}static selectedBrand(t){return t.selectedBrand}getBrands(t,r){return this.brandService.skeletonLoader=!0,this.brandService.getBrands(r.payload).pipe(l({next:e=>{t.patchState({brand:{data:e.data,total:e?.total?e?.total:e.data?.length}})},complete:()=>{this.brandService.skeletonLoader=!1},error:e=>{throw new Error(e?.error?.message)}}))}getBrandBySlug(t,r){return this.brandService.getBrands().pipe(l({next:e=>{if(e&&e.data){let m=e.data.find(B=>B.slug==r.slug),f=t.getState();t.patchState(h(u({},f),{selectedBrand:m}))}},error:e=>{throw new Error(e?.error?.message)}}))}};p.\u0275fac=function(r){return new(r||p)(d(k))},p.\u0275prov=g({token:p,factory:p.\u0275fac}),o([n(j)],p.prototype,"getBrands",1),o([n(P)],p.prototype,"getBrandBySlug",1),o([s()],p,"brand",1),o([s()],p,"selectedBrand",1),p=o([C({name:"brand",defaults:{brand:{data:[],total:0},selectedBrand:null}})],p);var I=class{constructor(t){this.payload=t}static{this.type="[Category] Get"}},L=class{constructor(t){this.payload=t}static{this.type="[Category] Get"}},E=class{constructor(t){this.payload=t}static{this.type="[FooterCategory] Get"}},H=class{constructor(t){this.payload=t}static{this.type="[HeaderCategory] Get"}},R=class{constructor(t){this.payload=t}static{this.type="[ProductCategory] Get"}},F=class{constructor(t){this.payload=t}static{this.type="[CategoryBySearch] Get"}},O=class{constructor(t){this.slug=t}static{this.type="[Category] Get Category By Slug"}};var $=class i{constructor(t){this.http=t;this.searchSkeleton=!1}getCategories(t){return this.http.get(`${y.URL}/category.json`,{params:t})}getCategoryBySlug(t){return this.http.get(`${y.URL}/category/slug/${t}`)}static{this.\u0275fac=function(r){return new(r||i)(d(b))}}static{this.\u0275prov=g({token:i,factory:i.\u0275fac,providedIn:"root"})}};var a=class{constructor(t){this.categoryService=t}static category(t){return t.category}static categories(t){return t.categories}static footerCategory(t){return t.footerCategory}static headerCategory(t){return t.headerCategory}static productCategory(t){return t.productCategory}static subCategory(t){return t.category}static searchByCategory(t){return t.searchByCategory}static selectedCategory(t){return t.selectedCategory}getCategories(t,r){return this.categoryService.getCategories(r.payload).pipe(l({next:e=>{e&&e.data&&t.patchState({categories:{data:e.data,total:e?.total?e?.total:e.data.length}})},error:e=>{throw new Error(e?.error?.message)}}))}getCategory(t,r){return this.categoryService.getCategories(r.payload).pipe(l({next:e=>{e&&e.data&&t.patchState({category:{data:e.data,total:e?.total?e?.total:e.data.length}})},error:e=>{throw new Error(e?.error?.message)}}))}GetFooterCategories(t,r){return this.categoryService.getCategories(r.payload).pipe(l({next:e=>{e&&e.data&&t.patchState({footerCategory:{data:e.data,total:e?.total?e?.total:e.data.length}})},error:e=>{throw new Error(e?.error?.message)}}))}GetHeaderCategories(t,r){return this.categoryService.getCategories(r.payload).pipe(l({next:e=>{e&&e.data&&t.patchState({headerCategory:{data:e.data,total:e?.total?e?.total:e.data.length}})},error:e=>{throw new Error(e?.error?.message)}}))}GetProductCategory(t,r){return this.categoryService.getCategories(r.payload).pipe(l({next:e=>{t.patchState({productCategory:{data:e.data,total:e?.total?e?.total:e.data.length}})},error:e=>{throw new Error(e?.error?.message)}}))}getSearchByCategory(t,r){return this.categoryService.searchSkeleton=!0,this.categoryService.getCategories(r.payload).pipe(l({next:e=>{let m;r?.payload?.search?m=e.data.filter(f=>f.name.toLowerCase().includes(r?.payload?.search.toLowerCase())):m=e.data,t.patchState({searchByCategory:m?m.splice(0,4):[]})},error:e=>{throw new Error(e?.error?.message)},complete:()=>{this.categoryService.searchSkeleton=!1}}))}getCategoryBySlug(t,r){return this.categoryService.getCategories().pipe(l({next:e=>{if(e&&e.data){let m=e.data.find(B=>B.slug==r.slug),f=t.getState();t.patchState(h(u({},f),{selectedCategory:m}))}},error:e=>{throw new Error(e?.error?.message)}}))}getSubCategory(t,r){if(r?.includes(t.id)&&t)return t;t.subcategories?.length&&t.subcategories.map(e=>{this.getSubCategory(e,r)})}};a.\u0275fac=function(r){return new(r||a)(d($))},a.\u0275prov=g({token:a,factory:a.\u0275fac}),o([n(I)],a.prototype,"getCategories",1),o([n(L)],a.prototype,"getCategory",1),o([n(E)],a.prototype,"GetFooterCategories",1),o([n(H)],a.prototype,"GetHeaderCategories",1),o([n(R)],a.prototype,"GetProductCategory",1),o([n(F)],a.prototype,"getSearchByCategory",1),o([n(O)],a.prototype,"getCategoryBySlug",1),o([s()],a,"category",1),o([s()],a,"categories",1),o([s()],a,"footerCategory",1),o([s()],a,"headerCategory",1),o([s()],a,"productCategory",1),o([s()],a,"subCategory",1),o([s()],a,"searchByCategory",1),o([s()],a,"selectedCategory",1),a=o([C({name:"category",defaults:{category:{data:[],total:0},categories:{data:[],total:0},footerCategory:{data:[],total:0},headerCategory:{data:[],total:0},productCategory:{data:[],total:0},searchByCategory:[],selectedCategory:null}})],a);export{x as a,S as b,M as c,w as d,G as e,c as f,j as g,P as h,k as i,p as j,I as k,E as l,H as m,F as n,O as o,$ as p,a as q};
